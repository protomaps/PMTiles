import{h as o,i as l,c as v,S,f as F,x as V,d as P,b as A,e as I,j as _,u as O,l as T,s as p}from"./Frame-BtpbgdIa.js";var j=o('<div class="max-h-120 overflow-y-scroll max-w-200 divide-y app-divide">'),B=o('<div class=p-2><div> <span class=app-text-light></span></div><div class="text-xs font-mono app-text-light"></div><table class="font-mono table-auto border-separate border-spacing-x-2"><tbody>'),D=o('<tr><td class="text-right app-text-light break-keep"></td><td class=break-all>');const N=e=>e===1?"Point":e===2?"LineString":"Polygon",H=e=>(()=>{var b=j();return l(b,v(V,{get each(){return e.features},children:n=>(()=>{var k=B(),f=k.firstChild,$=f.firstChild,w=$.nextSibling,i=f.nextSibling,a=i.nextSibling,t=a.firstChild;return l(f,()=>n.layerName,$),l(w,()=>N(n.type)),l(i,v(S,{get when(){return n.id!==void 0},fallback:"missing ID",get children(){return["ID ",F(()=>n.id)]}})),l(t,v(V,{get each(){return Object.entries(n.properties)},children:([u,s])=>(()=>{var x=D(),r=x.firstChild,g=r.nextSibling;return l(r,u),l(g,()=>typeof s=="boolean"?JSON.stringify(s):s.toString()),x})()})),k})()})),b})();var R=o('<div><input type=checkbox id=background><label class="ml-2 text-sm"for=background>Background'),G=o('<div class="px-2 md:px-4 pb-2 md:pb-4"><div><input type=checkbox id=checkall><label class="ml-2 text-sm"for=checkall>All Layers'),J=o('<div class="app-bg rounded app-border flex flex-col overflow-y-scroll max-h-100"><button type=button class="app-well cursor-pointer min-w-8">'),M=o('<div class=ml-2><input type=checkbox><label class="ml-2 text-sm"><span class="inline-block mr-2 w-[10px] h-[10px]">'),q=o("<span class=ml-1>(<!>)");function K(e){let b;const[n,k]=A(!0),f=i=>{const a=e.layerVisibility().map(t=>t.id===i?{...t,visible:!t.visible}:t);e.setLayerVisibility(a)},$=F(()=>e.layerVisibility().filter(a=>a.visible).length===e.layerVisibility().length),w=()=>{e.setLayerVisibility(e.layerVisibility().map(i=>({...i,visible:!$()})))};return I(()=>{const i=e.layerVisibility().filter(t=>t.visible).length,a=i>0&&i!==e.layerVisibility().length;b&&(b.indeterminate=a)}),(()=>{var i=J(),a=i.firstChild;return a.$$click=()=>k(!n()),l(a,()=>n()?"-":"+"),l(i,v(S,{get when(){return n()},get children(){var t=G(),u=t.firstChild,s=u.firstChild;l(t,v(S,{get when(){return e.basemapOption},get children(){var r=R(),g=r.firstChild;return g.addEventListener("change",()=>{var d,h;return(h=e.setBasemap)==null?void 0:h.call(e,!((d=e.basemap)!=null&&d.call(e)))}),_(()=>{var d;return g.checked=(d=e.basemap)==null?void 0:d.call(e)}),r}}),u),s.addEventListener("change",w);var x=b;return typeof x=="function"?O(x,s):b=s,l(t,v(V,{get each(){return e.layerVisibility()},children:(r,g)=>(()=>{var d=M(),h=d.firstChild,C=h.nextSibling,E=C.firstChild;return h.addEventListener("change",()=>f(r.id)),l(C,()=>r.id,null),l(C,v(S,{get when(){return e.layerFeatureCounts},children:c=>(()=>{var y=q(),L=y.firstChild,m=L.nextSibling;return m.nextSibling,l(y,()=>c()[r.id]||0,m),y})()}),null),_(c=>{var y=`check_${r.id}`,L=`check_${r.id}`,m=T(g());return y!==c.e&&p(h,"id",c.e=y),L!==c.t&&p(C,"for",c.t=L),m!==c.a&&((c.a=m)!=null?E.style.setProperty("background-color",m):E.style.removeProperty("background-color")),c},{e:void 0,t:void 0,a:void 0}),_(()=>h.checked=r.visible),d})()}),null),_(()=>s.checked=$()),t}}),null),_(t=>{var u=!!n(),s=!n();return u!==t.e&&a.classList.toggle("rounded-t",t.e=u),s!==t.t&&a.classList.toggle("rounded",t.t=s),t},{e:void 0,t:void 0}),i})()}P(["click"]);export{H as F,K as L};
