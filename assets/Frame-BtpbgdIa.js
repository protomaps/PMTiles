var Pt=Object.defineProperty;var Dt=(e,t,r)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ie=(e,t,r)=>Dt(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Bt=!1,jt=(e,t)=>e===t,Ht=Symbol("solid-track"),he={equals:jt};let Qe=rt;const z=1,de=2,Xe={owned:null,cleanups:null,context:null,owner:null},Le={};var E=null;let Ee=null,Nt=null,T=null,U=null,F=null,ye=0;function fe(e,t){const r=T,n=E,i=e.length===0,s=t===void 0?n:t,a=i?Xe:{owned:null,cleanups:null,context:s?s.context:null,owner:s},l=i?e:()=>e(()=>H(()=>ae(a)));E=a,T=null;try{return G(l,!0)}finally{T=r,E=n}}function Z(e,t){t=t?Object.assign({},he,t):he;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),tt(r,i));return[et.bind(r),n]}function Ft(e,t,r){const n=we(e,t,!0,z);re(n)}function W(e,t,r){const n=we(e,t,!1,z);re(n)}function Ye(e,t,r){Qe=Kt;const n=we(e,t,!1,z);n.user=!0,F?F.push(n):re(n)}function q(e,t,r){r=r?Object.assign({},he,r):he;const n=we(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,re(n),et.bind(n)}function zt(e){return e&&typeof e=="object"&&"then"in e}function Vr(e,t,r){let n,i,s;typeof t=="function"?(n=e,i=t,s={}):(n=!0,i=e,s=t||{});let a=null,l=Le,u=!1,f="initialValue"in s,c=typeof n=="function"&&q(n);const o=new Set,[h,d]=(s.storage||Z)(s.initialValue),[m,g]=Z(void 0),[k,D]=Z(void 0,{equals:!1}),[$,v]=Z(f?"ready":"unresolved");function p(A,w,x,C){return a===A&&(a=null,C!==void 0&&(f=!0),(A===l||w===l)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(C,{value:w})),l=Le,S(w,x)),w}function S(A,w){G(()=>{w===void 0&&d(()=>A),v(w!==void 0?"errored":f?"ready":"unresolved"),g(w);for(const x of o.keys())x.decrement();o.clear()},!1)}function N(){const A=Rt,w=h(),x=m();if(x!==void 0&&!a)throw x;return T&&T.user,w}function J(A=!0){if(A!==!1&&u)return;u=!1;const w=c?c():n;if(w==null||w===!1){p(a,H(h));return}const x=l!==Le?l:H(()=>i(w,{value:h(),refetching:A}));return zt(x)?(a=x,"value"in x?(x.status==="success"?p(a,x.value,void 0,w):p(a,void 0,Me(x.value),w),x):(u=!0,queueMicrotask(()=>u=!1),G(()=>{v(f?"refreshing":"pending"),D()},!1),x.then(C=>p(x,C,void 0,w),C=>p(x,void 0,Me(C),w)))):(p(a,x,void 0,w),x)}return Object.defineProperties(N,{state:{get:()=>$()},error:{get:()=>m()},loading:{get(){const A=$();return A==="pending"||A==="refreshing"}},latest:{get(){if(!f)return N();const A=m();if(A&&!a)throw A;return h()}}}),c?Ft(()=>J(!1)):J(!1),[N,{refetch:J,mutate:d}]}function H(e){if(T===null)return e();const t=T;T=null;try{return e()}finally{T=t}}function Kr(e){Ye(()=>H(e))}function It(e){return E===null||(E.cleanups===null?E.cleanups=[e]:E.cleanups.push(e)),e}function Wr(){return E}const[qr,Gr]=Z(!1);let Rt;function et(){if(this.sources&&this.state)if(this.state===z)re(this);else{const e=U;U=null,G(()=>pe(this),!1),U=e}if(T){const e=this.observers?this.observers.length:0;T.sources?(T.sources.push(this),T.sourceSlots.push(e)):(T.sources=[this],T.sourceSlots=[e]),this.observers?(this.observers.push(T),this.observerSlots.push(T.sources.length-1)):(this.observers=[T],this.observerSlots=[T.sources.length-1])}return this.value}function tt(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&G(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],a=Ee&&Ee.running;a&&Ee.disposed.has(s),(a?!s.tState:!s.state)&&(s.pure?U.push(s):F.push(s),s.observers&&nt(s)),a||(s.state=z)}if(U.length>1e6)throw U=[],new Error},!1)),t}function re(e){if(!e.fn)return;ae(e);const t=ye;Zt(e,e.value,t)}function Zt(e,t,r){let n;const i=E,s=T;T=E=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=z,e.owned&&e.owned.forEach(ae),e.owned=null),e.updatedAt=r+1,it(a)}finally{T=s,E=i}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?tt(e,n):e.value=n,e.updatedAt=r)}function we(e,t,r,n=z,i){const s={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:E,context:E?E.context:null,pure:r};return E===null||E!==Xe&&(E.owned?E.owned.push(s):E.owned=[s]),s}function ge(e){if(e.state===0)return;if(e.state===de)return pe(e);if(e.suspense&&H(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ye);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===z)re(e);else if(e.state===de){const n=U;U=null,G(()=>pe(e,t[0]),!1),U=n}}function G(e,t){if(U)return e();let r=!1;t||(U=[]),F?r=!0:F=[],ye++;try{const n=e();return Vt(r),n}catch(n){r||(F=null),U=null,it(n)}}function Vt(e){if(U&&(rt(U),U=null),e)return;const t=F;F=null,t.length&&G(()=>Qe(t),!1)}function rt(e){for(let t=0;t<e.length;t++)ge(e[t])}function Kt(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:ge(n)}for(t=0;t<r;t++)ge(e[t])}function pe(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const i=n.state;i===z?n!==t&&(!n.updatedAt||n.updatedAt<ye)&&ge(n):i===de&&pe(n,t)}}}function nt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=de,r.pure?U.push(r):F.push(r),r.observers&&nt(r))}}function ae(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),i=r.observers;if(i&&i.length){const s=i.pop(),a=r.observerSlots.pop();n<i.length&&(s.sourceSlots[a]=n,i[n]=s,r.observerSlots[n]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ae(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ae(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Me(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function it(e,t=E){throw Me(e)}const Wt=Symbol("fallback");function We(e){for(let t=0;t<e.length;t++)e[t]()}function qt(e,t,r={}){let n=[],i=[],s=[],a=0,l=t.length>1?[]:null;return It(()=>We(s)),()=>{let u=e()||[],f=u.length,c,o;return u[Ht],H(()=>{let d,m,g,k,D,$,v,p,S;if(f===0)a!==0&&(We(s),s=[],n=[],i=[],a=0,l&&(l=[])),r.fallback&&(n=[Wt],i[0]=fe(N=>(s[0]=N,r.fallback())),a=1);else if(a===0){for(i=new Array(f),o=0;o<f;o++)n[o]=u[o],i[o]=fe(h);a=f}else{for(g=new Array(f),k=new Array(f),l&&(D=new Array(f)),$=0,v=Math.min(a,f);$<v&&n[$]===u[$];$++);for(v=a-1,p=f-1;v>=$&&p>=$&&n[v]===u[p];v--,p--)g[p]=i[v],k[p]=s[v],l&&(D[p]=l[v]);for(d=new Map,m=new Array(p+1),o=p;o>=$;o--)S=u[o],c=d.get(S),m[o]=c===void 0?-1:c,d.set(S,o);for(c=$;c<=v;c++)S=n[c],o=d.get(S),o!==void 0&&o!==-1?(g[o]=i[c],k[o]=s[c],l&&(D[o]=l[c]),o=m[o],d.set(S,o)):s[c]();for(o=$;o<f;o++)o in g?(i[o]=g[o],s[o]=k[o],l&&(l[o]=D[o],l[o](o))):i[o]=fe(h);i=i.slice(0,a=f),n=u.slice(0)}return i});function h(d){if(s[o]=d,l){const[m,g]=Z(o);return l[o]=g,t(u[o],m)}return t(u[o])}}}function K(e,t){return H(()=>e(t||{}))}const Gt=e=>`Stale read from <${e}>.`;function Jr(e){const t="fallback"in e&&{fallback:()=>e.fallback};return q(qt(()=>e.each,e.children,t||void 0))}function ue(e){const t=e.keyed,r=q(()=>e.when,void 0,void 0),n=t?r:q(r,void 0,{equals:(i,s)=>!i==!s});return q(()=>{const i=n();if(i){const s=e.children;return typeof s=="function"&&s.length>0?H(()=>s(t?i:()=>{if(!H(n))throw Gt("Show");return r()})):s}return e.fallback},void 0,void 0)}function Jt(e,t,r){let n=r.length,i=t.length,s=n,a=0,l=0,u=t[i-1].nextSibling,f=null;for(;a<i||l<s;){if(t[a]===r[l]){a++,l++;continue}for(;t[i-1]===r[s-1];)i--,s--;if(i===a){const c=s<n?l?r[l-1].nextSibling:r[s-l]:u;for(;l<s;)e.insertBefore(r[l++],c)}else if(s===l)for(;a<i;)(!f||!f.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[s-1]&&r[l]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(r[l++],t[a++].nextSibling),e.insertBefore(r[--s],c),t[i]=r[s]}else{if(!f){f=new Map;let o=l;for(;o<s;)f.set(r[o],o++)}const c=f.get(t[a]);if(c!=null)if(l<c&&c<s){let o=a,h=1,d;for(;++o<i&&o<s&&!((d=f.get(t[o]))==null||d!==c+h);)h++;if(h>c-l){const m=t[a];for(;l<c;)e.insertBefore(r[l++],m)}else e.replaceChild(r[l++],t[a++])}else a++;else t[a++].remove()}}}const qe="_$DX_DELEGATE";function Qr(e,t,r,n={}){let i;return fe(s=>{i=s,t===document?e():O(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{i(),t.textContent=""}}function V(e,t,r,n){let i;const s=()=>{const l=document.createElement("template");return l.innerHTML=e,r?l.content.firstChild.firstChild:l.content.firstChild},a=t?()=>H(()=>document.importNode(i||(i=s()),!0)):()=>(i||(i=s())).cloneNode(!0);return a.cloneNode=a,a}function Qt(e,t=window.document){const r=t[qe]||(t[qe]=new Set);for(let n=0,i=e.length;n<i;n++){const s=e[n];r.has(s)||(r.add(s),t.addEventListener(s,Xt))}}function st(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function Xr(e,t,r={}){const n=Object.keys(t||{}),i=Object.keys(r);let s,a;for(s=0,a=i.length;s<a;s++){const l=i[s];!l||l==="undefined"||t[l]||(Ge(e,l,!1),delete r[l])}for(s=0,a=n.length;s<a;s++){const l=n[s],u=!!t[l];!l||l==="undefined"||r[l]===u||!u||(Ge(e,l,!0),r[l]=u)}return r}function Yr(e,t,r){return H(()=>e(t,r))}function O(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return me(e,t,n,r);W(i=>me(e,t(),i,r),n)}function Ge(e,t,r){const n=t.trim().split(/\s+/);for(let i=0,s=n.length;i<s;i++)e.classList.toggle(n[i],r)}function Xt(e){let t=e.target;const r=`$$${e.type}`,n=e.target,i=e.currentTarget,s=u=>Object.defineProperty(e,"target",{configurable:!0,value:u}),a=()=>{const u=t[r];if(u&&!t.disabled){const f=t[`${r}Data`];if(f!==void 0?u.call(t,f,e):u.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},l=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const u=e.composedPath();s(u[0]);for(let f=0;f<u.length-2&&(t=u[f],!!a());f++){if(t._$host){t=t._$host,l();break}if(t.parentNode===i)break}}else l();s(n)}function me(e,t,r,n,i){for(;typeof r=="function";)r=r();if(t===r)return r;const s=typeof t,a=n!==void 0;if(e=a&&r[0]&&r[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===r))return r;if(a){let l=r[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),r=Y(e,r,n,l)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||s==="boolean")r=Y(e,r,n);else{if(s==="function")return W(()=>{let l=t();for(;typeof l=="function";)l=l();r=me(e,l,r,n)}),()=>r;if(Array.isArray(t)){const l=[],u=r&&Array.isArray(r);if(Ue(l,t,r,i))return W(()=>r=me(e,l,r,n,!0)),()=>r;if(l.length===0){if(r=Y(e,r,n),a)return r}else u?r.length===0?Je(e,l,n):Jt(e,r,l):(r&&Y(e),Je(e,l));r=l}else if(t.nodeType){if(Array.isArray(r)){if(a)return r=Y(e,r,n,t);Y(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function Ue(e,t,r,n){let i=!1;for(let s=0,a=t.length;s<a;s++){let l=t[s],u=r&&r[e.length],f;if(!(l==null||l===!0||l===!1))if((f=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=Ue(e,l,u)||i;else if(f==="function")if(n){for(;typeof l=="function";)l=l();i=Ue(e,Array.isArray(l)?l:[l],Array.isArray(u)?u:[u])||i}else e.push(l),i=!0;else{const c=String(l);u&&u.nodeType===3&&u.data===c?e.push(u):e.push(document.createTextNode(c))}}return i}function Je(e,t,r=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function Y(e,t,r,n){if(r===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let s=!1;for(let a=t.length-1;a>=0;a--){const l=t[a];if(i!==l){const u=l.parentNode===e;!s&&!a?u?e.replaceChild(i,l):e.insertBefore(i,r):u&&l.remove()}else s=!0}}else e.insertBefore(i,r);return[i]}var P=Uint8Array,te=Uint16Array,Yt=Int32Array,lt=new P([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),at=new P([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),er=new P([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ot=function(e,t){for(var r=new te(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Yt(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},ct=ot(lt,2),ut=ct.b,tr=ct.r;ut[28]=258,tr[258]=28;var rr=ot(at,0),nr=rr.b,ke=new te(32768);for(var b=0;b<32768;++b){var R=(b&43690)>>1|(b&21845)<<1;R=(R&52428)>>2|(R&13107)<<2,R=(R&61680)>>4|(R&3855)<<4,ke[b]=((R&65280)>>8|(R&255)<<8)>>1}var se=function(e,t,r){for(var n=e.length,i=0,s=new te(t);i<n;++i)e[i]&&++s[e[i]-1];var a=new te(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(r){l=new te(1<<t);var u=15-t;for(i=0;i<n;++i)if(e[i])for(var f=i<<4|e[i],c=t-e[i],o=a[e[i]-1]++<<c,h=o|(1<<c)-1;o<=h;++o)l[ke[o]>>u]=f}else for(l=new te(n),i=0;i<n;++i)e[i]&&(l[i]=ke[a[e[i]-1]++]>>15-e[i]);return l},oe=new P(288);for(var b=0;b<144;++b)oe[b]=8;for(var b=144;b<256;++b)oe[b]=9;for(var b=256;b<280;++b)oe[b]=7;for(var b=280;b<288;++b)oe[b]=8;var ft=new P(32);for(var b=0;b<32;++b)ft[b]=5;var ir=se(oe,9,1),sr=se(ft,5,1),Ce=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},j=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Se=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},lr=function(e){return(e+7)/8|0},ar=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new P(e.subarray(t,r))},or=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_=function(e,t,r){var n=new Error(t||or[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,_),!r)throw n;return n},_e=function(e,t,r,n){var i=e.length,s=0;if(!i||t.f&&!t.l)return r||new P(0);var a=!r,l=a||t.i!=2,u=t.i;a&&(r=new P(i*3));var f=function(Ze){var Ve=r.length;if(Ze>Ve){var Ke=new P(Math.max(Ve*2,Ze));Ke.set(r),r=Ke}},c=t.f||0,o=t.p||0,h=t.b||0,d=t.l,m=t.d,g=t.m,k=t.n,D=i*8;do{if(!d){c=j(e,o,1);var $=j(e,o+1,3);if(o+=3,$)if($==1)d=ir,m=sr,g=9,k=5;else if($==2){var N=j(e,o,31)+257,J=j(e,o+10,15)+4,A=N+j(e,o+5,31)+1;o+=14;for(var w=new P(A),x=new P(19),C=0;C<J;++C)x[er[C]]=j(e,o+C*3,7);o+=J*3;for(var He=Ce(x),Mt=(1<<He)-1,Ut=se(x,He,1),C=0;C<A;){var Ne=Ut[j(e,o,Mt)];o+=Ne&15;var v=Ne>>4;if(v<16)w[C++]=v;else{var Q=0,ce=0;for(v==16?(ce=3+j(e,o,3),o+=2,Q=w[C-1]):v==17?(ce=3+j(e,o,7),o+=3):v==18&&(ce=11+j(e,o,127),o+=7);ce--;)w[C++]=Q}}var Fe=w.subarray(0,N),I=w.subarray(N);g=Ce(Fe),k=Ce(I),d=se(Fe,g,1),m=se(I,k,1)}else _(1);else{var v=lr(o)+4,p=e[v-4]|e[v-3]<<8,S=v+p;if(S>i){u&&_(0);break}l&&f(h+p),r.set(e.subarray(v,S),h),t.b=h+=p,t.p=o=S*8,t.f=c;continue}if(o>D){u&&_(0);break}}l&&f(h+131072);for(var kt=(1<<g)-1,Ot=(1<<k)-1,xe=o;;xe=o){var Q=d[Se(e,o)&kt],X=Q>>4;if(o+=Q&15,o>D){u&&_(0);break}if(Q||_(2),X<256)r[h++]=X;else if(X==256){xe=o,d=null;break}else{var ze=X-254;if(X>264){var C=X-257,ne=lt[C];ze=j(e,o,(1<<ne)-1)+ut[C],o+=ne}var Te=m[Se(e,o)&Ot],$e=Te>>4;Te||_(3),o+=Te&15;var I=nr[$e];if($e>3){var ne=at[$e];I+=Se(e,o)&(1<<ne)-1,o+=ne}if(o>D){u&&_(0);break}l&&f(h+131072);var Ie=h+ze;if(h<I){var Re=s-I,_t=Math.min(I,Ie);for(Re+h<0&&_(3);h<_t;++h)r[h]=n[Re+h]}for(;h<Ie;++h)r[h]=r[h-I]}}t.l=d,t.p=xe,t.b=h,t.f=c,d&&(c=1,t.m=g,t.d=m,t.n=k)}while(!c);return h!=r.length&&a?ar(r,0,h):r.subarray(0,h)},cr=new P(0),ur=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&_(6,"invalid gzip data");var t=e[3],r=10;t&4&&(r+=(e[10]|e[11]<<8)+2);for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(t&2)},fr=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},hr=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&_(6,"invalid zlib data"),(e[1]>>5&1)==1&&_(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function dr(e,t){return _e(e,{i:2},t,t)}function gr(e,t){var r=ur(e);return r+8>e.length&&_(6,"invalid gzip data"),_e(e.subarray(r,-8),{i:2},new P(fr(e)),t)}function pr(e,t){return _e(e.subarray(hr(e),-4),{i:2},t,t)}function mr(e,t){return e[0]==31&&e[1]==139&&e[2]==8?gr(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?dr(e,t):pr(e,t)}var vr=typeof TextDecoder<"u"&&new TextDecoder,yr=0;try{vr.decode(cr,{stream:!0}),yr=1}catch{}var wr=Object.defineProperty,le=Math.pow,y=(e,t)=>wr(e,"name",{value:t,configurable:!0}),M=(e,t,r)=>new Promise((n,i)=>{var s=u=>{try{l(r.next(u))}catch(f){i(f)}},a=u=>{try{l(r.throw(u))}catch(f){i(f)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,a);l((r=r.apply(e,t)).next())});y((e,t)=>{let r=!1,n="",i=L.GridLayer.extend({createTile:y((s,a)=>{let l=document.createElement("img"),u=new AbortController,f=u.signal;return l.cancel=()=>{u.abort()},r||(e.getHeader().then(c=>{c.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):c.tileType===2?n="image/png":c.tileType===3?n="image/jpeg":c.tileType===4?n="image/webp":c.tileType===5&&(n="image/avif")}),r=!0),e.getZxy(s.z,s.x,s.y,f).then(c=>{if(c){let o=new Blob([c.data],{type:n}),h=window.URL.createObjectURL(o);l.src=h,l.cancel=void 0,a(void 0,l)}}).catch(c=>{if(c.name!=="AbortError")throw c}),l},"createTile"),_removeTile:y(function(s){let a=this._tiles[s];a&&(a.el.cancel&&a.el.cancel(),a.el.width=0,a.el.height=0,a.el.deleted=!0,L.DomUtil.remove(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},"_removeTile")});return new i(t)},"leafletRasterLayer");var br=y(e=>(t,r)=>{if(r instanceof AbortController)return e(t,r);let n=new AbortController;return e(t,n).then(i=>r(void 0,i.data,i.cacheControl||"",i.expires||""),i=>r(i)).catch(i=>r(i)),{cancel:y(()=>n.abort(),"cancel")}},"v3compat"),ht=class{constructor(t){this.tilev4=y((r,n)=>M(this,null,function*(){if(r.type==="json"){let d=r.url.substr(10),m=this.tiles.get(d);if(m||(m=new ve(d),this.tiles.set(d,m)),this.metadata)return{data:yield m.getTileJson(r.url)};let g=yield m.getHeader();return(g.minLon>=g.maxLon||g.minLat>=g.maxLat)&&console.error(`Bounds of PMTiles archive ${g.minLon},${g.minLat},${g.maxLon},${g.maxLat} are not valid.`),{data:{tiles:[`${r.url}/{z}/{x}/{y}`],minzoom:g.minZoom,maxzoom:g.maxZoom,bounds:[g.minLon,g.minLat,g.maxLon,g.maxLat]}}}let i=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),s=r.url.match(i);if(!s)throw new Error("Invalid PMTiles protocol URL");let a=s[1],l=this.tiles.get(a);l||(l=new ve(a),this.tiles.set(a,l));let u=s[2],f=s[3],c=s[4],o=yield l.getHeader(),h=yield l==null?void 0:l.getZxy(+u,+f,+c,n.signal);if(h)return{data:new Uint8Array(h.data),cacheControl:h.cacheControl,expires:h.expires};if(o.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=br(this.tilev4),this.tiles=new Map,this.metadata=(t==null?void 0:t.metadata)||!1,this.errorOnMissingTile=(t==null?void 0:t.errorOnMissingTile)||!1}add(t){this.tiles.set(t.source.getKey(),t)}get(t){return this.tiles.get(t)}};y(ht,"Protocol");var tn=ht;function dt(e,t){return(t>>>0)*4294967296+(e>>>0)}y(dt,"toNum");function gt(e,t){let r=t.buf,n=r[t.pos++],i=(n&112)>>4;if(n<128||(n=r[t.pos++],i|=(n&127)<<3,n<128)||(n=r[t.pos++],i|=(n&127)<<10,n<128)||(n=r[t.pos++],i|=(n&127)<<17,n<128)||(n=r[t.pos++],i|=(n&127)<<24,n<128)||(n=r[t.pos++],i|=(n&1)<<31,n<128))return dt(e,i);throw new Error("Expected varint not more than 10 bytes")}y(gt,"readVarintRemainder");function ee(e){let t=e.buf,r=t[e.pos++],n=r&127;return r<128||(r=t[e.pos++],n|=(r&127)<<7,r<128)||(r=t[e.pos++],n|=(r&127)<<14,r<128)||(r=t[e.pos++],n|=(r&127)<<21,r<128)?n:(r=t[e.pos],n|=(r&15)<<28,gt(n,e))}y(ee,"readVarint");function Pe(e,t,r,n){if(n===0){r===1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);let i=t[0];t[0]=t[1],t[1]=i}}y(Pe,"rotate");function pt(e,t){let r=le(2,e),n=t,i=t,s=t,a=[0,0],l=1;for(;l<r;)n=1&s/2,i=1&(s^n),Pe(l,a,n,i),a[0]+=l*n,a[1]+=l*i,s=s/4,l*=2;return[e,a[0],a[1]]}y(pt,"idOnLevel");var xr=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function mt(e,t,r){if(e>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(t>le(2,e)-1||r>le(2,e)-1)throw new Error("tile x/y outside zoom level bounds");let n=xr[e],i=le(2,e),s=0,a=0,l=0,u=[t,r],f=i/2;for(;f>0;)s=(u[0]&f)>0?1:0,a=(u[1]&f)>0?1:0,l+=f*f*(3*s^a),Pe(f,u,s,a),f=f/2;return n+l}y(mt,"zxyToTileId");function Tr(e){let t=0;for(let r=0;r<27;r++){let n=(1<<r)*(1<<r);if(t+n>e)return pt(r,e-t);t+=n}throw new Error("Tile zoom level exceeds max safe number limit (26)")}y(Tr,"tileIdToZxy");var $r=(e=>(e[e.Unknown=0]="Unknown",e[e.None=1]="None",e[e.Gzip=2]="Gzip",e[e.Brotli=3]="Brotli",e[e.Zstd=4]="Zstd",e))($r||{});function be(e,t){return M(this,null,function*(){if(t===1||t===0)return e;if(t===2){if(typeof globalThis.DecompressionStream>"u")return mr(new Uint8Array(e));let r=new Response(e).body;if(!r)throw new Error("Failed to read response stream");let n=r.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(n).arrayBuffer()}throw new Error("Compression method not supported")})}y(be,"defaultDecompress");var vt=(e=>(e[e.Unknown=0]="Unknown",e[e.Mvt=1]="Mvt",e[e.Png=2]="Png",e[e.Jpeg=3]="Jpeg",e[e.Webp=4]="Webp",e[e.Avif=5]="Avif",e))(vt||{});function yt(e){return e===1?".mvt":e===2?".png":e===3?".jpg":e===4?".webp":e===5?".avif":""}y(yt,"tileTypeExt");var Lr=127;function wt(e,t){let r=0,n=e.length-1;for(;r<=n;){let i=n+r>>1,s=t-e[i].tileId;if(s>0)r=i+1;else if(s<0)n=i-1;else return e[i]}return n>=0&&(e[n].runLength===0||t-e[n].tileId<e[n].runLength)?e[n]:null}y(wt,"findTile");var bt=class{constructor(t){this.file=t}getKey(){return this.file.name}getBytes(t,r){return M(this,null,function*(){return{data:yield this.file.slice(t,t+r).arrayBuffer()}})}};y(bt,"FileSource");var Er=bt,xt=class{constructor(t,r=new Headers){this.url=t,this.customHeaders=r,this.mustReload=!1;let n="";"navigator"in globalThis&&(n=globalThis.navigator.userAgent||"");let i=n.indexOf("Windows")>-1,s=/Chrome|Chromium|Edg|OPR|Brave/.test(n);this.chromeWindowsNoCache=!1,i&&s&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(t){this.customHeaders=t}getBytes(t,r,n,i){return M(this,null,function*(){let s,a;n?a=n:(s=new AbortController,a=s.signal);let l=new Headers(this.customHeaders);l.set("range",`bytes=${t}-${t+r-1}`);let u;this.mustReload?u="reload":this.chromeWindowsNoCache&&(u="no-store");let f=yield fetch(this.url,{signal:a,cache:u,headers:l});if(t===0&&f.status===416){let h=f.headers.get("Content-Range");if(!h||!h.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let d=+h.substr(8);f=yield fetch(this.url,{signal:a,cache:"reload",headers:{range:`bytes=0-${d-1}`}})}let c=f.headers.get("Etag");if(c!=null&&c.startsWith("W/")&&(c=null),f.status===416||i&&c&&c!==i)throw this.mustReload=!0,new Oe(`Server returned non-matching ETag ${i} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(f.status>=300)throw new Error(`Bad response code: ${f.status}`);let o=f.headers.get("Content-Length");if(f.status===200&&(!o||+o>r))throw s&&s.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield f.arrayBuffer(),etag:c||void 0,cacheControl:f.headers.get("Cache-Control")||void 0,expires:f.headers.get("Expires")||void 0}})}};y(xt,"FetchSource");var Cr=xt;function B(e,t){let r=e.getUint32(t+4,!0),n=e.getUint32(t+0,!0);return r*le(2,32)+n}y(B,"getUint64");function Tt(e,t){let r=new DataView(e),n=r.getUint8(7);if(n>3)throw new Error(`Archive is spec version ${n} but this library supports up to spec version 3`);return{specVersion:n,rootDirectoryOffset:B(r,8),rootDirectoryLength:B(r,16),jsonMetadataOffset:B(r,24),jsonMetadataLength:B(r,32),leafDirectoryOffset:B(r,40),leafDirectoryLength:B(r,48),tileDataOffset:B(r,56),tileDataLength:B(r,64),numAddressedTiles:B(r,72),numTileEntries:B(r,80),numTileContents:B(r,88),clustered:r.getUint8(96)===1,internalCompression:r.getUint8(97),tileCompression:r.getUint8(98),tileType:r.getUint8(99),minZoom:r.getUint8(100),maxZoom:r.getUint8(101),minLon:r.getInt32(102,!0)/1e7,minLat:r.getInt32(106,!0)/1e7,maxLon:r.getInt32(110,!0)/1e7,maxLat:r.getInt32(114,!0)/1e7,centerZoom:r.getUint8(118),centerLon:r.getInt32(119,!0)/1e7,centerLat:r.getInt32(123,!0)/1e7,etag:t}}y(Tt,"bytesToHeader");function De(e){let t={buf:new Uint8Array(e),pos:0},r=ee(t),n=[],i=0;for(let s=0;s<r;s++){let a=ee(t);n.push({tileId:i+a,offset:0,length:0,runLength:1}),i+=a}for(let s=0;s<r;s++)n[s].runLength=ee(t);for(let s=0;s<r;s++)n[s].length=ee(t);for(let s=0;s<r;s++){let a=ee(t);a===0&&s>0?n[s].offset=n[s-1].offset+n[s-1].length:n[s].offset=a-1}return n}y(De,"deserializeIndex");var $t=class extends Error{};y($t,"EtagMismatch");var Oe=$t;function Be(e,t){return M(this,null,function*(){let r=yield e.getBytes(0,16384);if(new DataView(r.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let n=r.data.slice(0,Lr),i=Tt(n,r.etag),s=r.data.slice(i.rootDirectoryOffset,i.rootDirectoryOffset+i.rootDirectoryLength),a=`${e.getKey()}|${i.etag||""}|${i.rootDirectoryOffset}|${i.rootDirectoryLength}`,l=De(yield t(s,i.internalCompression));return[i,[a,l.length,l]]})}y(Be,"getHeaderAndRoot");function je(e,t,r,n,i){return M(this,null,function*(){let s=yield e.getBytes(r,n,void 0,i.etag),a=yield t(s.data,i.internalCompression),l=De(a);if(l.length===0)throw new Error("Empty directory is invalid");return l})}y(je,"getDirectory");var Sr=class{constructor(t=100,r=!0,n=be){this.cache=new Map,this.maxCacheEntries=t,this.counter=1,this.decompress=n}getHeader(t){return M(this,null,function*(){let r=t.getKey(),n=this.cache.get(r);if(n)return n.lastUsed=this.counter++,n.data;let i=yield Be(t,this.decompress);return i[1]&&this.cache.set(i[1][0],{lastUsed:this.counter++,data:i[1][2]}),this.cache.set(r,{lastUsed:this.counter++,data:i[0]}),this.prune(),i[0]})}getDirectory(t,r,n,i){return M(this,null,function*(){let s=`${t.getKey()}|${i.etag||""}|${r}|${n}`,a=this.cache.get(s);if(a)return a.lastUsed=this.counter++,a.data;let l=yield je(t,this.decompress,r,n,i);return this.cache.set(s,{lastUsed:this.counter++,data:l}),this.prune(),l})}prune(){if(this.cache.size>this.maxCacheEntries){let t=1/0,r;this.cache.forEach((n,i)=>{n.lastUsed<t&&(t=n.lastUsed,r=i)}),r&&this.cache.delete(r)}}invalidate(t){return M(this,null,function*(){this.cache.delete(t.getKey())})}};y(Sr,"ResolvedValueCache");var Lt=class{constructor(t=100,r=!0,n=be){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=t,this.counter=1,this.decompress=n}getHeader(t){return M(this,null,function*(){let r=t.getKey(),n=this.cache.get(r);if(n)return n.lastUsed=this.counter++,yield n.data;let i=new Promise((s,a)=>{Be(t,this.decompress).then(l=>{l[1]&&this.cache.set(l[1][0],{lastUsed:this.counter++,data:Promise.resolve(l[1][2])}),s(l[0]),this.prune()}).catch(l=>{a(l)})});return this.cache.set(r,{lastUsed:this.counter++,data:i}),i})}getDirectory(t,r,n,i){return M(this,null,function*(){let s=`${t.getKey()}|${i.etag||""}|${r}|${n}`,a=this.cache.get(s);if(a)return a.lastUsed=this.counter++,yield a.data;let l=new Promise((u,f)=>{je(t,this.decompress,r,n,i).then(c=>{u(c),this.prune()}).catch(c=>{f(c)})});return this.cache.set(s,{lastUsed:this.counter++,data:l}),l})}prune(){if(this.cache.size>=this.maxCacheEntries){let t=1/0,r;this.cache.forEach((n,i)=>{n.lastUsed<t&&(t=n.lastUsed,r=i)}),r&&this.cache.delete(r)}}invalidate(t){return M(this,null,function*(){let r=t.getKey();if(this.invalidations.get(r))return yield this.invalidations.get(r);this.cache.delete(t.getKey());let n=new Promise((i,s)=>{this.getHeader(t).then(a=>{i(),this.invalidations.delete(r)}).catch(a=>{s(a)})});this.invalidations.set(r,n)})}};y(Lt,"SharedPromiseCache");var Ar=Lt,Et=class{constructor(t,r,n){typeof t=="string"?this.source=new Cr(t):this.source=t,n?this.decompress=n:this.decompress=be,r?this.cache=r:this.cache=new Ar}getHeader(){return M(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(t,r,n,i){return M(this,null,function*(){let s=mt(t,r,n),a=yield this.cache.getHeader(this.source);if(t<a.minZoom||t>a.maxZoom)return;let l=a.rootDirectoryOffset,u=a.rootDirectoryLength;for(let f=0;f<=3;f++){let c=yield this.cache.getDirectory(this.source,l,u,a),o=wt(c,s);if(o){if(o.runLength>0){let h=yield this.source.getBytes(a.tileDataOffset+o.offset,o.length,i,a.etag);return{data:yield this.decompress(h.data,a.tileCompression),cacheControl:h.cacheControl,expires:h.expires}}l=a.leafDirectoryOffset+o.offset,u=o.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(t,r,n,i){return M(this,null,function*(){try{return yield this.getZxyAttempt(t,r,n,i)}catch(s){if(s instanceof Oe)return this.cache.invalidate(this.source),yield this.getZxyAttempt(t,r,n,i);throw s}})}getMetadataAttempt(){return M(this,null,function*(){let t=yield this.cache.getHeader(this.source),r=yield this.source.getBytes(t.jsonMetadataOffset,t.jsonMetadataLength,void 0,t.etag),n=yield this.decompress(r.data,t.internalCompression),i=new TextDecoder("utf-8");return JSON.parse(i.decode(n))})}getMetadata(){return M(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(t){if(t instanceof Oe)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw t}})}getTileJson(t){return M(this,null,function*(){let r=yield this.getHeader(),n=yield this.getMetadata(),i=yt(r.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${t}/{z}/{x}/{y}${i}`],vector_layers:n.vector_layers,attribution:n.attribution,description:n.description,name:n.name,version:n.version,bounds:[r.minLon,r.minLat,r.maxLon,r.maxLat],center:[r.centerLon,r.centerLat,r.centerZoom],minzoom:r.minZoom,maxzoom:r.maxZoom}})}};y(Et,"PMTiles");var ve=Et;class Ct{constructor(t){ie(this,"archive");this.archive=t}async getZxy(t,r,n){const i=await this.archive.getZxy(t,r,n);if(i)return i.data}async getBounds(){const t=await this.getHeader();return[t.minLon,t.minLat,t.maxLon,t.maxLat]}async getMaxZoom(){return(await this.getHeader()).maxZoom}async isVector(){return(await this.getHeader()).tileType===vt.Mvt}async getHeader(){return await this.archive.getHeader()}async test(){await this.archive.getHeader()}async getMetadata(){return await this.archive.getMetadata()}async isOverlay(){return(await this.getMetadata()).type==="overlay"}async getVectorLayers(){return(await this.getMetadata()).vector_layers.map(r=>r.id)}}class Mr extends Ct{constructor(r){super(new ve(r));ie(this,"url");this.url=r}getStateUrl(){return this.url}getLocalFileName(){return""}getMaplibreSourceUrl(){return`pmtiles://${this.url}`}archiveForProtocol(){}}class Ur extends Ct{constructor(r){super(new ve(new Er(r)));ie(this,"name");this.name=r.name}getStateUrl(){}getLocalFileName(){return this.name}getMaplibreSourceUrl(){return`pmtiles://${this.name}`}archiveForProtocol(){return this.archive}}class kr{constructor(t){ie(this,"url");this.url=t}archiveForProtocol(){}async test(){await fetch(this.url)}async getBounds(){return(await(await fetch(this.url)).json()).bounds}async getMaxZoom(){return(await(await fetch(this.url)).json()).maxzoom}getMaplibreSourceUrl(){return this.url}async isOverlay(){return!0}async isVector(){const n=(await(await fetch(this.url)).json()).tiles[0],i=new URL(n).pathname;return i.endsWith(".pbf")||i.endsWith(".mvt")}getStateUrl(){return this.url}getLocalFileName(){return""}async getZxy(t,r,n){const l=(await(await fetch(this.url)).json()).tiles[0].replace("{z}",t).replace("{x}",r).replace("{y}",n);return await(await fetch(l)).arrayBuffer()}async getMetadata(){return await(await fetch(this.url)).json()}async getVectorLayers(){return(await this.getMetadata()).vector_layers.map(r=>r.id)}}const St=e=>new URL(e).pathname.endsWith(".json")?new kr(e):new Mr(e),At=e=>new Ur(e);function Or(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const _r=Or("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Pr="e232df5".substr(0,8);function cn(e){return _r[e%12]}function Dr(e){const t={};for(const r of e.replace("#","").split("&")){const n=r.split("=");t[n[0]]=n[1]}return t}function un(e,t){const n={...Dr(e),...t};return`#${Object.entries(n).filter(([i,s])=>s!==void 0).map(([i,s])=>`${i}=${s}`).join("&")}`}function fn(e){const t=e.split("/");if(t.length===3)return t.map(r=>+r)}function hn(e,t){const r=[`zxy=${t[0]}/${t[1]}/${t[2]}`];return e&&r.push(`url=${e}`),`/tile/#${r.join("&")}`}function dn(e,t=2){if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,i=["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=Math.floor(Math.log(e)/Math.log(r));return`${Number.parseFloat((e/r**s).toFixed(n))} ${i[s]}`}var Br=V('<div class="h-full flex items-center justify-center p-4"><div><div class="mb-2 app-text-light">Load an example:</div><div class="app-border divide-y"><button class="block p-2 flex text-left flex-col hover:bg-slate dark:hover:bg-purple w-full cursor-pointer"type=button><div>v4.pmtiles</div><div class="text-xs app-text-light">vector basemap, Protomaps daily build channel (OpenStreetMap data)</div></button><button class="block p-2 flex text-left flex-col hover:bg-slate dark:hover:bg-purple w-full cursor-pointer"type=button><div>flowers.pmtiles</div><div class="text-xs app-text-light">raster overlay, aerial orthomosaic</div></button><button class="block p-2 flex text-left flex-col hover:bg-slate dark:hover:bg-purple w-full cursor-pointer"type=button><div>places.pmtiles</div><div class="text-xs app-text-light">vector overlay, Overture Places, 2025-04-23 release</div></button><button class="block p-2 flex text-left flex-col hover:bg-slate dark:hover:bg-purple app-bg-hover w-full cursor-pointer"type=button><div>tilezen.pmtiles</div><div class="text-xs app-text-light">vector basemap, 2019 Mapzen Tiles (legacy)</div></button></div><input class="text-left mt-4 px-4 py-2 btn-primary cursor-pointer rounded w-full"type=file><div class="mt-2 app-text-light">Drag and drop a local file here'),jr=V('<a class="py-2 px-4">'),Hr=V('<span class="flex-1 app-well rounded px-2 m-1 text-sm">'),Nr=V('<button type=button class="mr-2 text-sm px-2 btn-secondary cursor-pointer">clear'),Fr=V('<div class="flex-none flex items-center px-4 md:px-0 pt-4 md:pt-0 flex-col md:flex-row"><div class="flex items-center flex-grow flex-1"><h1 class="hidden md:inline text-xl mx-5"></h1><form class="flex flex-1 items-center"><span class="relative flex flex-1 items-center app-border"></span><button class="px-4 ml-2 btn-primary cursor-pointer"type=submit>load</button><a href=https://github.com/protomaps/PMTiles target=_blank rel=noreferrer class="hidden md:inline text-xs mx-4">@</a></form></div><div class=flex>'),zr=V('<div class="bg-red-900 px-2 py-3 flex justify-between"><span></span><span><button type=button>close'),Ir=V('<div class="flex flex-col h-dvh w-full app-bg"><div class="flex-1 overflow-auto">'),Rr=V('<input class="px-2 flex-1"type=text name=url>');const gn=e=>{const t=n=>{e.setTileset(St(n))},r=n=>{var s;const i=(s=n.currentTarget.files)==null?void 0:s[0];i&&e.setTileset(At(i))};return(()=>{var n=Br(),i=n.firstChild,s=i.firstChild,a=s.nextSibling,l=a.firstChild,u=l.nextSibling,f=u.nextSibling,c=f.nextSibling,o=a.nextSibling;return l.$$click=()=>{t("https://demo-bucket.protomaps.com/v4.pmtiles")},u.$$click=()=>{t("https://air.mtn.tw/flowers.pmtiles")},f.$$click=()=>{t("https://overturemaps-tiles-us-west-2-beta.s3.amazonaws.com/2025-04-23/places.pmtiles")},c.$$click=()=>{t("https://r2-public.protomaps.com/protomaps-sample-datasets/tilezen.pmtiles")},o.addEventListener("change",r),n})()};function Ae(e){const t=q(()=>{const r=e.tileset();if(r){const n=r.getStateUrl();if(n)return`#url=${n}`}return""});return(()=>{var r=jr();return O(r,()=>e.page),W(n=>{var i=!!e.selected,s=!e.selected,a=`/${e.page==="map"?"":`${e.page}/`}${t()}`;return i!==n.e&&r.classList.toggle("font-bold",n.e=i),s!==n.t&&r.classList.toggle("underline",n.t=s),a!==n.a&&st(r,"href",n.a=a),n},{e:void 0,t:void 0,a:void 0}),r})()}function pn(e){const[t,r]=Z(),[n,i]=Z(!1),s=c=>{try{e.setTileset(St(c))}catch(o){o instanceof Error&&r(o.message)}},a=c=>{r(void 0),c.preventDefault();const h=new FormData(c.target).get("url");typeof h=="string"&&h.length>0&&s(h)};Ye(async()=>{const c=e.tileset();if(c)try{await c.test()}catch(o){o instanceof Error&&r(o.message)}});const l=c=>{c.preventDefault(),i(!1),c.dataTransfer&&e.setTileset(At(c.dataTransfer.files[0]))},u=c=>(c.preventDefault(),i(!0),!1);let f="PMTiles viewer";return e.page==="archive"?f="PMTiles archive inspector":e.page==="tile"&&(f="PMTiles tile inspector"),(()=>{var c=Ir(),o=c.firstChild;return c.addEventListener("drop",l),c.addEventListener("dragover",u),O(c,K(ue,{get when(){return!e.iframe},get children(){var h=Fr(),d=h.firstChild,m=d.firstChild,g=m.nextSibling,k=g.firstChild,D=k.nextSibling,$=D.nextSibling;$.firstChild;var v=d.nextSibling;return O(m,f),g.addEventListener("submit",a),O(k,K(ue,{get when(){var p;return q(()=>!!e.tileset())()&&((p=e.tileset())==null?void 0:p.getStateUrl())===void 0},get fallback(){return(()=>{var p=Rr();return W(()=>st(p,"placeholder",`${e.pmtilesOnly?"":"TileJSON or "}.pmtiles`)),W(()=>{var S;return p.value=((S=e.tileset())==null?void 0:S.getStateUrl())||""}),p})()},get children(){var p=Hr();return O(p,()=>{var S;return(S=e.tileset())==null?void 0:S.getLocalFileName()}),p}}),null),O(k,K(ue,{get when(){return e.tileset()},get children(){var p=Nr();return p.$$click=()=>e.setTileset(void 0),p}}),null),O($,Pr,null),O(v,K(Ae,{page:"map",get selected(){return e.page==="map"},get tileset(){return e.tileset}}),null),O(v,K(Ae,{page:"archive",get selected(){return e.page==="archive"},get tileset(){return e.tileset}}),null),O(v,K(Ae,{page:"tile",get selected(){return e.page==="tile"},get tileset(){return e.tileset}}),null),h}}),o),O(c,K(ue,{get when(){return t()},get children(){var h=zr(),d=h.firstChild,m=d.nextSibling,g=m.firstChild;return O(d,t),g.$$click=()=>r(void 0),h}}),o),O(o,()=>e.children),W(h=>{var d=!!e.iframe,m=!!n();return d!==h.e&&c.classList.toggle("iframe",h.e=d),m!==h.t&&o.classList.toggle("bg-gray-600",h.t=m),h},{e:void 0,t:void 0}),c})()}Qt(["click"]);export{gn as E,pn as F,$r as J,Ct as P,ue as S,yt as _,un as a,Z as b,K as c,Qt as d,Ye as e,q as f,tn as g,V as h,O as i,W as j,Xr as k,cn as l,Vr as m,Wr as n,Kr as o,Dr as p,hn as q,Qr as r,st as s,St as t,Yr as u,dn as v,Tr as w,Jr as x,fn as z};
